        -:    0:Source:/Users/glebmitko/Desktop/lab1_ppois/src/bigint/BigInt.cpp
        -:    0:Graph:CMakeFiles/run_tests.dir/src/bigint/BigInt.cpp.gcno
        -:    0:Data:CMakeFiles/run_tests.dir/src/bigint/BigInt.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "../../include/bigint/BigInt.hpp"
        -:    2:#include "../../include/utils/StringUtils.hpp"
        -:    3:#include <algorithm>
        -:    4:#include <sstream>
        -:    5:#include <cmath>
        -:    6:
        -:    7:namespace bigint {
        -:    8:
function _ZN6bigint6BigIntC2Ev called 131 returned 100% blocks executed 50%
function _ZN6bigint6BigIntC1Ev called 131 returned 100% blocks executed 100%
      262:    9:BigInt::BigInt() : isNegative(false) {
      131:   10:    digits.push_back(0);
branch  0 taken 100%
branch  1 taken 0%
      262:   11:}
        -:   12:
function _ZN6bigint6BigIntC2Ei called 159 returned 100% blocks executed 80%
function _ZN6bigint6BigIntC1Ei called 159 returned 100% blocks executed 100%
      318:   13:BigInt::BigInt(int number) : isNegative(number < 0) {
      159:   14:    if (number == 0) {
branch  0 taken 6%
branch  1 taken 94%
       10:   15:        digits.push_back(0);
branch  0 taken 100%
branch  1 taken 0%
       10:   16:        return;
        -:   17:    }
        -:   18:    
      149:   19:    long long absNumber = std::abs(static_cast<long long>(number));
      318:   20:    while (absNumber > 0) {
branch  0 taken 47%
branch  1 taken 53%
      169:   21:        digits.push_back(absNumber % BASE);
branch  0 taken 100%
branch  1 taken 0%
      169:   22:        absNumber /= BASE;
        -:   23:    }
      318:   24:}
        -:   25:
function _ZN6bigint6BigIntC2ERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 0 returned 0% blocks executed 0%
function _ZN6bigint6BigIntC1ERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 0 returned 0% blocks executed 0%
    #####:   26:BigInt::BigInt(const std::string& str) {
    #####:   27:    fromString(str);
branch  0 never executed
branch  1 never executed
    #####:   28:}
        -:   29:
function _ZN6bigint6BigIntC2EPKc called 73 returned 100% blocks executed 85%
function _ZN6bigint6BigIntC1EPKc called 73 returned 100% blocks executed 100%
      146:   30:BigInt::BigInt(const char* str) {
       73:   31:    fromString(std::string(str));
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 3%
branch  3 taken 97%
      146:   32:}
        -:   33:
function _ZNK6bigint6BigIntplERKS0_ called 17 returned 100% blocks executed 50%
       17:   34:BigInt BigInt::operator+(const BigInt& other) const {
       17:   35:    BigInt result(*this);
       17:   36:    result += other;
branch  0 taken 100%
branch  1 taken 0%
       17:   37:    return result;
       17:   38:}
branch  0 taken 100%
branch  1 taken 0%
        -:   39:
function _ZNK6bigint6BigIntmiERKS0_ called 13 returned 100% blocks executed 50%
       13:   40:BigInt BigInt::operator-(const BigInt& other) const {
       13:   41:    BigInt result(*this);
       13:   42:    result -= other;
branch  0 taken 100%
branch  1 taken 0%
       13:   43:    return result;
       13:   44:}
branch  0 taken 100%
branch  1 taken 0%
        -:   45:
function _ZNK6bigint6BigIntmlERKS0_ called 110 returned 100% blocks executed 50%
      110:   46:BigInt BigInt::operator*(const BigInt& other) const {
      110:   47:    BigInt result(*this);
      110:   48:    result *= other;
branch  0 taken 100%
branch  1 taken 0%
      110:   49:    return result;
      110:   50:}
branch  0 taken 100%
branch  1 taken 0%
        -:   51:
function _ZNK6bigint6BigIntdvERKS0_ called 5 returned 100% blocks executed 83%
        5:   52:BigInt BigInt::operator/(const BigInt& other) const {
        5:   53:    BigInt result(*this);
        5:   54:    result /= other;
branch  0 taken 80%
branch  1 taken 20%
        4:   55:    return result;
        5:   56:}
branch  0 taken 100%
branch  1 taken 0%
        -:   57:
function _ZN6bigint6BigIntpLERKS0_ called 26 returned 100% blocks executed 68%
       26:   58:BigInt& BigInt::operator+=(const BigInt& other) {
       26:   59:    if (isNegative == other.isNegative) {
branch  0 taken 77%
branch  1 taken 23%
       20:   60:        add(other);
       20:   61:    } else {
        6:   62:        if (abs() >= other.abs()) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 67%
branch  5 taken 33%
        4:   63:            subtract(other);
        4:   64:        } else {
        2:   65:            BigInt temp(other);
        2:   66:            temp.subtract(*this);
branch  0 taken 100%
branch  1 taken 0%
        2:   67:            *this = temp;
branch  0 taken 100%
branch  1 taken 0%
        2:   68:            isNegative = other.isNegative;
        2:   69:        }
        -:   70:    }
       26:   71:    normalize();
       26:   72:    return *this;
    #####:   73:}
        -:   74:
function _ZN6bigint6BigIntmIERKS0_ called 27 returned 100% blocks executed 68%
       27:   75:BigInt& BigInt::operator-=(const BigInt& other) {
       27:   76:    if (isNegative != other.isNegative) {
branch  0 taken 15%
branch  1 taken 85%
        4:   77:        add(other);
        4:   78:    } else {
       23:   79:        if (abs() >= other.abs()) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
branch  4 taken 91%
branch  5 taken 9%
       21:   80:            subtract(other);
       21:   81:        } else {
        2:   82:            BigInt temp(other);
        2:   83:            temp.subtract(*this);
branch  0 taken 100%
branch  1 taken 0%
        2:   84:            *this = temp;
branch  0 taken 100%
branch  1 taken 0%
        2:   85:            isNegative = !isNegative;
        2:   86:        }
        -:   87:    }
       27:   88:    normalize();
       27:   89:    return *this;
    #####:   90:}
        -:   91:
function _ZN6bigint6BigIntmLERKS0_ called 113 returned 100% blocks executed 100%
      113:   92:BigInt& BigInt::operator*=(const BigInt& other) {
      113:   93:    multiply(other);
      113:   94:    normalize();
      113:   95:    return *this;
        -:   96:}
        -:   97:
function _ZN6bigint6BigIntdVERKS0_ called 9 returned 100% blocks executed 66%
        9:   98:BigInt& BigInt::operator/=(const BigInt& other) {
        9:   99:    if (other.isZero()) {
branch  0 taken 78%
branch  1 taken 22%
        2:  100:        throw std::runtime_error("Division by zero");
branch  0 taken 100%
branch  1 taken 0%
        -:  101:    }
        -:  102:    
        7:  103:    divide(other);
        7:  104:    normalize();
        7:  105:    return *this;
    #####:  106:}
        -:  107:
function _ZNK6bigint6BigIntplEi called 1 returned 100% blocks executed 50%
        1:  108:BigInt BigInt::operator+(int other) const {
        1:  109:    return *this + BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  110:}
        -:  111:
function _ZNK6bigint6BigIntmiEi called 1 returned 100% blocks executed 50%
        1:  112:BigInt BigInt::operator-(int other) const {
        1:  113:    return *this - BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  114:}
        -:  115:
function _ZNK6bigint6BigIntmlEi called 100 returned 100% blocks executed 50%
      100:  116:BigInt BigInt::operator*(int other) const {
      100:  117:    return *this * BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  118:}
        -:  119:
function _ZNK6bigint6BigIntdvEi called 1 returned 100% blocks executed 50%
        1:  120:BigInt BigInt::operator/(int other) const {
        1:  121:    return *this / BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  122:}
        -:  123:
function _ZN6bigint6BigIntpLEi called 5 returned 100% blocks executed 50%
        5:  124:BigInt& BigInt::operator+=(int other) {
        5:  125:    return *this += BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  126:}
        -:  127:
function _ZN6bigint6BigIntmIEi called 3 returned 100% blocks executed 50%
        3:  128:BigInt& BigInt::operator-=(int other) {
        3:  129:    return *this -= BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  130:}
        -:  131:
function _ZN6bigint6BigIntmLEi called 1 returned 100% blocks executed 50%
        1:  132:BigInt& BigInt::operator*=(int other) {
        1:  133:    return *this *= BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  134:}
        -:  135:
function _ZN6bigint6BigIntdVEi called 1 returned 100% blocks executed 50%
        1:  136:BigInt& BigInt::operator/=(int other) {
        1:  137:    return *this /= BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  138:}
        -:  139:
function _ZNK6bigint6BigIntngEv called 5 returned 100% blocks executed 62%
        5:  140:BigInt BigInt::operator-() const {
        5:  141:    BigInt result(*this);
        5:  142:    if (!result.isZero()) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 20%
branch  3 taken 80%
        4:  143:        result.isNegative = !result.isNegative;
        4:  144:    }
        5:  145:    return result;
        5:  146:}
branch  0 taken 100%
branch  1 taken 0%
        -:  147:
function _ZNK6bigint6BigIntpsEv called 1 returned 100% blocks executed 100%
        1:  148:BigInt BigInt::operator+() const {
        1:  149:    return *this;
        -:  150:}
        -:  151:
function _ZN6bigint6BigIntppEv called 4 returned 100% blocks executed 100%
        4:  152:BigInt& BigInt::operator++() {
        4:  153:    *this += 1;
        4:  154:    return *this;
        -:  155:}
        -:  156:
function _ZN6bigint6BigIntppEi called 2 returned 100% blocks executed 50%
        2:  157:BigInt BigInt::operator++(int) {
        2:  158:    BigInt temp(*this);
        2:  159:    ++(*this);
branch  0 taken 100%
branch  1 taken 0%
        2:  160:    return temp;
        2:  161:}
branch  0 taken 100%
branch  1 taken 0%
        -:  162:
function _ZN6bigint6BigIntmmEv called 2 returned 100% blocks executed 100%
        2:  163:BigInt& BigInt::operator--() {
        2:  164:    *this -= 1;
        2:  165:    return *this;
        -:  166:}
        -:  167:
function _ZN6bigint6BigIntmmEi called 1 returned 100% blocks executed 50%
        1:  168:BigInt BigInt::operator--(int) {
        1:  169:    BigInt temp(*this);
        1:  170:    --(*this);
branch  0 taken 100%
branch  1 taken 0%
        1:  171:    return temp;
        1:  172:}
branch  0 taken 100%
branch  1 taken 0%
        -:  173:
function _ZNK6bigint6BigInteqERKS0_ called 8 returned 100% blocks executed 100%
        8:  174:bool BigInt::operator==(const BigInt& other) const {
        8:  175:    return compare(other) == 0;
        -:  176:}
        -:  177:
function _ZNK6bigint6BigIntneERKS0_ called 3 returned 100% blocks executed 100%
        3:  178:bool BigInt::operator!=(const BigInt& other) const {
        3:  179:    return compare(other) != 0;
        -:  180:}
        -:  181:
function _ZNK6bigint6BigIntltERKS0_ called 17 returned 100% blocks executed 100%
       17:  182:bool BigInt::operator<(const BigInt& other) const {
       17:  183:    return compare(other) < 0;
        -:  184:}
        -:  185:
function _ZNK6bigint6BigIntleERKS0_ called 95 returned 100% blocks executed 100%
       95:  186:bool BigInt::operator<=(const BigInt& other) const {
       95:  187:    return compare(other) <= 0;
        -:  188:}
        -:  189:
function _ZNK6bigint6BigIntgtERKS0_ called 11 returned 100% blocks executed 100%
       11:  190:bool BigInt::operator>(const BigInt& other) const {
       11:  191:    return compare(other) > 0;
        -:  192:}
        -:  193:
function _ZNK6bigint6BigIntgeERKS0_ called 32 returned 100% blocks executed 100%
       32:  194:bool BigInt::operator>=(const BigInt& other) const {
       32:  195:    return compare(other) >= 0;
        -:  196:}
        -:  197:
function _ZNK6bigint6BigInteqEi called 2 returned 100% blocks executed 50%
        2:  198:bool BigInt::operator==(int other) const {
        2:  199:    return *this == BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  200:}
        -:  201:
function _ZNK6bigint6BigIntneEi called 1 returned 100% blocks executed 50%
        1:  202:bool BigInt::operator!=(int other) const {
        1:  203:    return *this != BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  204:}
        -:  205:
function _ZNK6bigint6BigIntltEi called 2 returned 100% blocks executed 50%
        2:  206:bool BigInt::operator<(int other) const {
        2:  207:    return *this < BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  208:}
        -:  209:
function _ZNK6bigint6BigIntleEi called 1 returned 100% blocks executed 50%
        1:  210:bool BigInt::operator<=(int other) const {
        1:  211:    return *this <= BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  212:}
        -:  213:
function _ZNK6bigint6BigIntgtEi called 2 returned 100% blocks executed 50%
        2:  214:bool BigInt::operator>(int other) const {
        2:  215:    return *this > BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  216:}
        -:  217:
function _ZNK6bigint6BigIntgeEi called 1 returned 100% blocks executed 50%
        1:  218:bool BigInt::operator>=(int other) const {
        1:  219:    return *this >= BigInt(other);
branch  0 taken 100%
branch  1 taken 0%
    #####:  220:}
        -:  221:
function _ZNK6bigint6BigIntcviEv called 3 returned 100% blocks executed 68%
        3:  222:BigInt::operator int() const {
        3:  223:    if (*this > BigInt(INT_MAX) || *this < BigInt(INT_MIN)) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 67%
branch  3 taken 33%
branch  4 taken 100%
branch  5 taken 0%
branch  6 taken 100%
branch  7 taken 0%
branch  8 taken 33%
branch  9 taken 67%
branch 10 taken 33%
branch 11 taken 67%
branch 12 never executed
branch 13 never executed
        2:  224:        throw std::overflow_error("BigInt too large for int conversion");
branch  0 taken 100%
branch  1 taken 0%
        -:  225:    }
        -:  226:    
        1:  227:    int result = 0;
        1:  228:    int multiplier = 1;
        -:  229:    
        3:  230:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 67%
branch  1 taken 33%
        2:  231:        result += digits[i] * multiplier;
        2:  232:        multiplier *= BASE;
        2:  233:    }
        -:  234:    
        1:  235:    return isNegative ? -result : result;
branch  0 taken 0%
branch  1 taken 100%
    #####:  236:}
        -:  237:
function _ZNK6bigint6BigInt8toStringEv called 91 returned 100% blocks executed 88%
       91:  238:std::string BigInt::toString() const {
       91:  239:    if (isZero()) {
branch  0 taken 13%
branch  1 taken 87%
       12:  240:        return "0";
        -:  241:    }
        -:  242:    
       79:  243:    std::stringstream ss;
       79:  244:    if (isNegative) {
branch  0 taken 22%
branch  1 taken 78%
       17:  245:        ss << "-";
branch  0 taken 100%
branch  1 taken 0%
       17:  246:    }
        -:  247:    
       79:  248:    ss << digits.back();
branch  0 taken 100%
branch  1 taken 0%
        -:  249:    
      141:  250:    for (int i = static_cast<int>(digits.size()) - 2; i >= 0; --i) {
branch  0 taken 56%
branch  1 taken 44%
       62:  251:        ss.width(BASE_DIGITS);
branch  0 taken 100%
branch  1 taken 0%
       62:  252:        ss.fill('0');
branch  0 taken 100%
branch  1 taken 0%
       62:  253:        ss << digits[i];
branch  0 taken 100%
branch  1 taken 0%
       62:  254:    }
        -:  255:    
       79:  256:    return ss.str();
branch  0 taken 100%
branch  1 taken 0%
       91:  257:}
        -:  258:
function _ZNK6bigint6BigInt6isZeroEv called 495 returned 100% blocks executed 100%
      495:  259:bool BigInt::isZero() const {
      495:  260:    return digits.size() == 1 && digits[0] == 0;
branch  0 taken 17%
branch  1 taken 83%
        -:  261:}
        -:  262:
function _ZNK6bigint6BigInt10digitCountEv called 4 returned 100% blocks executed 100%
        4:  263:size_t BigInt::digitCount() const {
        4:  264:    if (isZero()) return 1;
branch  0 taken 25%
branch  1 taken 75%
        -:  265:    
        3:  266:    size_t count = (digits.size() - 1) * BASE_DIGITS;
        3:  267:    int lastDigit = digits.back();
        -:  268:    
        7:  269:    while (lastDigit > 0) {
branch  0 taken 57%
branch  1 taken 43%
        4:  270:        count++;
        4:  271:        lastDigit /= 10;
        -:  272:    }
        -:  273:    
        3:  274:    return count;
        4:  275:}
        -:  276:
function _ZN6bigint6BigInt9normalizeEv called 369 returned 100% blocks executed 100%
      369:  277:void BigInt::normalize() {
      369:  278:    removeLeadingZeros();
      369:  279:    if (isZero()) {
branch  0 taken 97%
branch  1 taken 3%
       11:  280:        isNegative = false;
       11:  281:    }
      369:  282:}
        -:  283:
function _ZN6bigint6BigInt10fromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 76 returned 100% blocks executed 93%
       76:  284:void BigInt::fromString(const std::string& str) {
       76:  285:    digits.clear();
       76:  286:    isNegative = false;
        -:  287:    
       76:  288:    if (str.empty()) {
branch  0 taken 1%
branch  1 taken 99%
        1:  289:        digits.push_back(0);
        1:  290:        return;
        -:  291:    }
        -:  292:    
       75:  293:    size_t start = 0;
       75:  294:    if (str[0] == '-') {
branch  0 taken 15%
branch  1 taken 85%
       11:  295:        isNegative = true;
       11:  296:        start = 1;
       75:  297:    } else if (str[0] == '+') {
branch  0 taken 97%
branch  1 taken 3%
        2:  298:        start = 1;
        2:  299:    }
        -:  300:    
       90:  301:    while (start < str.size() && str[start] == '0') {
branch  0 taken 4%
branch  1 taken 96%
branch  2 taken 17%
branch  3 taken 83%
       15:  302:        start++;
        -:  303:    }
        -:  304:    
       75:  305:    if (start == str.size()) {
branch  0 taken 5%
branch  1 taken 95%
        4:  306:        digits.push_back(0);
        4:  307:        isNegative = false;
        4:  308:        return;
        -:  309:    }
        -:  310:    
      193:  311:    for (int i = str.size() - 1; i >= static_cast<int>(start); i -= BASE_DIGITS) {
branch  0 taken 64%
branch  1 taken 36%
      124:  312:        int digit = 0;
      124:  313:        int power = 1;
        -:  314:        
      518:  315:        for (int j = 0; j < BASE_DIGITS; ++j) {
branch  0 taken 12%
branch  1 taken 88%
      456:  316:            int pos = i - j;
      456:  317:            if (pos < static_cast<int>(start)) break;
branch  0 taken 87%
branch  1 taken 13%
        -:  318:            
      396:  319:            if (!std::isdigit(str[pos])) {
branch  0 taken 99%
branch  1 taken 1%
        2:  320:                throw std::invalid_argument("Invalid character in BigInt string");
branch  0 taken 100%
branch  1 taken 0%
        -:  321:            }
        -:  322:            
      394:  323:            digit += (str[pos] - '0') * power;
      394:  324:            power *= 10;
      394:  325:        }
        -:  326:        
      122:  327:        digits.push_back(digit);
      122:  328:    }
        -:  329:    
       69:  330:    normalize();
       74:  331:}
        -:  332:
function _ZN6bigint6BigInt18removeLeadingZerosEv called 398 returned 100% blocks executed 100%
      398:  333:void BigInt::removeLeadingZeros() {
      495:  334:    while (digits.size() > 1 && digits.back() == 0) {
branch  0 taken 66%
branch  1 taken 34%
branch  2 taken 20%
branch  3 taken 80%
       97:  335:        digits.pop_back();
        -:  336:    }
      398:  337:}
        -:  338:
function _ZNK6bigint6BigInt7compareERKS0_ called 166 returned 100% blocks executed 100%
      166:  339:int BigInt::compare(const BigInt& other) const {
      166:  340:    if (isNegative != other.isNegative) {
branch  0 taken 4%
branch  1 taken 96%
        6:  341:        return isNegative ? -1 : 1;
        -:  342:    }
        -:  343:    
      160:  344:    if (digits.size() != other.digits.size()) {
branch  0 taken 17%
branch  1 taken 83%
       27:  345:        return (digits.size() > other.digits.size() ? 1 : -1) * (isNegative ? -1 : 1);
        -:  346:    }
        -:  347:    
      172:  348:    for (int i = static_cast<int>(digits.size()) - 1; i >= 0; --i) {
branch  0 taken 82%
branch  1 taken 18%
      141:  349:        if (digits[i] != other.digits[i]) {
branch  0 taken 28%
branch  1 taken 72%
      102:  350:            return (digits[i] > other.digits[i] ? 1 : -1) * (isNegative ? -1 : 1);
        -:  351:        }
       39:  352:    }
        -:  353:    
       31:  354:    return 0;
      166:  355:}
        -:  356:
function _ZNK6bigint6BigInt3absEv called 72 returned 100% blocks executed 66%
       72:  357:BigInt BigInt::abs() const {
       72:  358:    BigInt result(*this);
       72:  359:    result.isNegative = false;
       72:  360:    return result;
       72:  361:}
branch  0 taken 100%
branch  1 taken 0%
        -:  362:
function _ZN6bigint6BigInt3addERKS0_ called 24 returned 100% blocks executed 100%
       24:  363:void BigInt::add(const BigInt& other) {
       24:  364:    size_t maxSize = std::max(digits.size(), other.digits.size());
       24:  365:    digits.resize(maxSize, 0);
        -:  366:    
       24:  367:    int carry = 0;
       69:  368:    for (size_t i = 0; i < maxSize; ++i) {
branch  0 taken 35%
branch  1 taken 65%
       45:  369:        int sum = digits[i] + carry;
       45:  370:        if (i < other.digits.size()) {
branch  0 taken 20%
branch  1 taken 80%
       36:  371:            sum += other.digits[i];
       36:  372:        }
        -:  373:        
       45:  374:        digits[i] = sum % BASE;
       45:  375:        carry = sum / BASE;
       45:  376:    }
        -:  377:    
       24:  378:    if (carry > 0) {
branch  0 taken 4%
branch  1 taken 96%
        1:  379:        digits.push_back(carry);
        1:  380:    }
       24:  381:}
        -:  382:
function _ZN6bigint6BigInt8subtractERKS0_ called 29 returned 100% blocks executed 100%
       29:  383:void BigInt::subtract(const BigInt& other) {
       29:  384:    int borrow = 0;
       75:  385:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 61%
branch  1 taken 39%
       46:  386:        int diff = digits[i] - borrow;
       46:  387:        if (i < other.digits.size()) {
branch  0 taken 20%
branch  1 taken 80%
       37:  388:            diff -= other.digits[i];
       37:  389:        }
        -:  390:        
       46:  391:        if (diff < 0) {
branch  0 taken 80%
branch  1 taken 20%
        9:  392:            diff += BASE;
        9:  393:            borrow = 1;
        9:  394:        } else {
       37:  395:            borrow = 0;
        -:  396:        }
        -:  397:        
       46:  398:        digits[i] = diff;
       46:  399:    }
        -:  400:    
       29:  401:    removeLeadingZeros();
       29:  402:}
        -:  403:
function _ZN6bigint6BigInt8multiplyERKS0_ called 113 returned 100% blocks executed 89%
      113:  404:void BigInt::multiply(const BigInt& other) {
      113:  405:    BigInt result;
      113:  406:    result.digits.resize(digits.size() + other.digits.size(), 0);
branch  0 taken 100%
branch  1 taken 0%
      113:  407:    result.isNegative = isNegative != other.isNegative;
        -:  408:    
      239:  409:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 53%
branch  1 taken 47%
      126:  410:        int carry = 0;
      305:  411:        for (size_t j = 0; j < other.digits.size() || carry > 0; ++j) {
branch  0 taken 48%
branch  1 taken 52%
branch  2 taken 59%
branch  3 taken 41%
      537:  412:            long long product = result.digits[i + j] + 
      358:  413:                               static_cast<long long>(digits[i]) * 
      179:  414:                               (j < other.digits.size() ? other.digits[j] : 0) + 
branch  0 taken 82%
branch  1 taken 18%
      179:  415:                               carry;
        -:  416:            
      179:  417:            result.digits[i + j] = product % BASE;
      179:  418:            carry = product / BASE;
      179:  419:        }
      126:  420:    }
        -:  421:    
      113:  422:    result.normalize();
branch  0 taken 100%
branch  1 taken 0%
      113:  423:    *this = result;
branch  0 taken 100%
branch  1 taken 0%
      113:  424:}
        -:  425:
function _ZN6bigint6BigInt6divideERKS0_ called 7 returned 100% blocks executed 60%
        7:  426:void BigInt::divide(const BigInt& other) {
        7:  427:    if (other.isZero()) {
branch  0 taken 100%
branch  1 taken 0%
    #####:  428:        throw std::runtime_error("Division by zero");
branch  0 never executed
branch  1 never executed
        -:  429:    }
        -:  430:    
        7:  431:    BigInt a = abs();
        7:  432:    BigInt b = other.abs();
branch  0 taken 100%
branch  1 taken 0%
        -:  433:    
        7:  434:    if (a < b) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 0%
branch  3 taken 100%
    #####:  435:        *this = BigInt(0);
branch  0 never executed
branch  1 never executed
branch  2 never executed
branch  3 never executed
    #####:  436:        return;
        -:  437:    }
        -:  438:    
        7:  439:    BigInt result;
branch  0 taken 100%
branch  1 taken 0%
        7:  440:    result.digits.resize(a.digits.size() - b.digits.size() + 1, 0);
branch  0 taken 100%
branch  1 taken 0%
        7:  441:    result.isNegative = isNegative != other.isNegative;
        -:  442:    
        7:  443:    BigInt current;
branch  0 taken 100%
branch  1 taken 0%
       14:  444:    for (int i = static_cast<int>(a.digits.size()) - 1; i >= 0; --i) {
branch  0 taken 50%
branch  1 taken 50%
        7:  445:        current.shiftLeft(1);
branch  0 taken 100%
branch  1 taken 0%
        7:  446:        current.digits[0] = a.digits[i];
        7:  447:        current.normalize();
branch  0 taken 100%
branch  1 taken 0%
        -:  448:        
        7:  449:        int left = 0, right = BASE;
       99:  450:        while (left < right) {
branch  0 taken 7%
branch  1 taken 93%
       92:  451:            int mid = (left + right + 1) / 2;
       92:  452:            BigInt product = b * mid;
branch  0 taken 100%
branch  1 taken 0%
        -:  453:            
       92:  454:            if (product <= current) {
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 22%
branch  3 taken 78%
       20:  455:                left = mid;
       20:  456:            } else {
       72:  457:                right = mid - 1;
        -:  458:            }
       92:  459:        }
        -:  460:        
        7:  461:        if (i < static_cast<int>(result.digits.size())) {
branch  0 taken 0%
branch  1 taken 100%
        7:  462:            result.digits[i] = left;
        7:  463:        }
        -:  464:        
        7:  465:        current -= b * left;
branch  0 taken 100%
branch  1 taken 0%
branch  2 taken 100%
branch  3 taken 0%
        7:  466:    }
        -:  467:    
        7:  468:    result.normalize();
branch  0 taken 100%
branch  1 taken 0%
        7:  469:    *this = result;
branch  0 taken 100%
branch  1 taken 0%
        7:  470:}
branch  0 taken 0%
branch  1 taken 100%
        -:  471:
function _ZN6bigint6BigInt15multiplyByDigitEi called 0 returned 0% blocks executed 0%
    #####:  472:void BigInt::multiplyByDigit(int digit) {
    #####:  473:    int carry = 0;
    #####:  474:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 never executed
branch  1 never executed
    #####:  475:        long long product = static_cast<long long>(digits[i]) * digit + carry;
    #####:  476:        digits[i] = product % BASE;
    #####:  477:        carry = product / BASE;
    #####:  478:    }
        -:  479:    
    #####:  480:    if (carry > 0) {
branch  0 never executed
branch  1 never executed
    #####:  481:        digits.push_back(carry);
    #####:  482:    }
    #####:  483:}
        -:  484:
function _ZN6bigint6BigInt9shiftLeftEm called 7 returned 100% blocks executed 75%
        7:  485:void BigInt::shiftLeft(size_t positions) {
        7:  486:    if (isZero()) return;
branch  0 taken 100%
branch  1 taken 0%
        -:  487:    
    #####:  488:    digits.insert(digits.begin(), positions, 0);
        7:  489:}
        -:  490:
function _ZN6bigintlsERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEERKNS_6BigIntE called 1 returned 100% blocks executed 50%
        1:  491:std::ostream& operator<<(std::ostream& os, const BigInt& num) {
        1:  492:    os << num.toString();
branch  0 taken 100%
branch  1 taken 0%
        1:  493:    return os;
    #####:  494:}
        -:  495:
function _ZN6bigintrsERNSt3__113basic_istreamIcNS0_11char_traitsIcEEEERNS_6BigIntE called 3 returned 100% blocks executed 60%
        3:  496:std::istream& operator>>(std::istream& is, BigInt& num) {
        3:  497:    std::string str;
        3:  498:    is >> str;
branch  0 taken 100%
branch  1 taken 0%
        3:  499:    num.fromString(str);
branch  0 taken 100%
branch  1 taken 0%
        3:  500:    return is;
        3:  501:}
        -:  502:
        -:  503:}
