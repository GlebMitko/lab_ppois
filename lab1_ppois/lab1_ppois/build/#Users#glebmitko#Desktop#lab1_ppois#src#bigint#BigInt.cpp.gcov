        -:    0:Source:/Users/glebmitko/Desktop/lab1_ppois/src/bigint/BigInt.cpp
        -:    0:Graph:CMakeFiles/run_tests.dir/src/bigint/BigInt.cpp.gcno
        -:    0:Data:CMakeFiles/run_tests.dir/src/bigint/BigInt.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:#include "../../include/bigint/BigInt.hpp"
        -:    2:#include "../../include/utils/StringUtils.hpp"
        -:    3:#include <algorithm>
        -:    4:#include <sstream>
        -:    5:#include <cmath>
        -:    6:
        -:    7:namespace bigint {
        -:    8:
function _ZN6bigint6BigIntC2Ev called 262 returned 100% blocks executed 50%
function _ZN6bigint6BigIntC1Ev called 262 returned 100% blocks executed 100%
      524:    9:BigInt::BigInt() : isNegative(false) {
      262:   10:    digits.push_back(0);
branch  0 taken 262
branch  1 taken 0
      524:   11:}
        -:   12:
function _ZN6bigint6BigIntC2Ei called 318 returned 100% blocks executed 80%
function _ZN6bigint6BigIntC1Ei called 318 returned 100% blocks executed 100%
      636:   13:BigInt::BigInt(int number) : isNegative(number < 0) {
      318:   14:    if (number == 0) {
branch  0 taken 20
branch  1 taken 298
       20:   15:        digits.push_back(0);
branch  0 taken 20
branch  1 taken 0
       20:   16:        return;
        -:   17:    }
        -:   18:    
      298:   19:    long long absNumber = std::abs(static_cast<long long>(number));
      636:   20:    while (absNumber > 0) {
branch  0 taken 298
branch  1 taken 338
      338:   21:        digits.push_back(absNumber % BASE);
branch  0 taken 338
branch  1 taken 0
      338:   22:        absNumber /= BASE;
        -:   23:    }
      636:   24:}
        -:   25:
function _ZN6bigint6BigIntC2ERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 0 returned 0% blocks executed 0%
function _ZN6bigint6BigIntC1ERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 0 returned 0% blocks executed 0%
    #####:   26:BigInt::BigInt(const std::string& str) {
    #####:   27:    fromString(str);
branch  0 never executed
branch  1 never executed
    #####:   28:}
        -:   29:
function _ZN6bigint6BigIntC2EPKc called 146 returned 100% blocks executed 85%
function _ZN6bigint6BigIntC1EPKc called 146 returned 100% blocks executed 100%
      292:   30:BigInt::BigInt(const char* str) {
      146:   31:    fromString(std::string(str));
branch  0 taken 146
branch  1 taken 0
branch  2 taken 4
branch  3 taken 142
      292:   32:}
        -:   33:
function _ZNK6bigint6BigIntplERKS0_ called 34 returned 100% blocks executed 50%
       34:   34:BigInt BigInt::operator+(const BigInt& other) const {
       34:   35:    BigInt result(*this);
       34:   36:    result += other;
branch  0 taken 34
branch  1 taken 0
       34:   37:    return result;
       34:   38:}
branch  0 taken 34
branch  1 taken 0
        -:   39:
function _ZNK6bigint6BigIntmiERKS0_ called 26 returned 100% blocks executed 50%
       26:   40:BigInt BigInt::operator-(const BigInt& other) const {
       26:   41:    BigInt result(*this);
       26:   42:    result -= other;
branch  0 taken 26
branch  1 taken 0
       26:   43:    return result;
       26:   44:}
branch  0 taken 26
branch  1 taken 0
        -:   45:
function _ZNK6bigint6BigIntmlERKS0_ called 220 returned 100% blocks executed 50%
      220:   46:BigInt BigInt::operator*(const BigInt& other) const {
      220:   47:    BigInt result(*this);
      220:   48:    result *= other;
branch  0 taken 220
branch  1 taken 0
      220:   49:    return result;
      220:   50:}
branch  0 taken 220
branch  1 taken 0
        -:   51:
function _ZNK6bigint6BigIntdvERKS0_ called 10 returned 100% blocks executed 83%
       10:   52:BigInt BigInt::operator/(const BigInt& other) const {
       10:   53:    BigInt result(*this);
       10:   54:    result /= other;
branch  0 taken 8
branch  1 taken 2
        8:   55:    return result;
       10:   56:}
branch  0 taken 8
branch  1 taken 0
        -:   57:
function _ZN6bigint6BigIntpLERKS0_ called 52 returned 100% blocks executed 68%
       52:   58:BigInt& BigInt::operator+=(const BigInt& other) {
       52:   59:    if (isNegative == other.isNegative) {
branch  0 taken 40
branch  1 taken 12
       40:   60:        add(other);
       40:   61:    } else {
       12:   62:        if (abs() >= other.abs()) {
branch  0 taken 12
branch  1 taken 0
branch  2 taken 12
branch  3 taken 0
branch  4 taken 8
branch  5 taken 4
        8:   63:            subtract(other);
        8:   64:        } else {
        4:   65:            BigInt temp(other);
        4:   66:            temp.subtract(*this);
branch  0 taken 4
branch  1 taken 0
        4:   67:            *this = temp;
branch  0 taken 4
branch  1 taken 0
        4:   68:            isNegative = other.isNegative;
        4:   69:        }
        -:   70:    }
       52:   71:    normalize();
       52:   72:    return *this;
    #####:   73:}
        -:   74:
function _ZN6bigint6BigIntmIERKS0_ called 54 returned 100% blocks executed 68%
       54:   75:BigInt& BigInt::operator-=(const BigInt& other) {
       54:   76:    if (isNegative != other.isNegative) {
branch  0 taken 8
branch  1 taken 46
        8:   77:        add(other);
        8:   78:    } else {
       46:   79:        if (abs() >= other.abs()) {
branch  0 taken 46
branch  1 taken 0
branch  2 taken 46
branch  3 taken 0
branch  4 taken 42
branch  5 taken 4
       42:   80:            subtract(other);
       42:   81:        } else {
        4:   82:            BigInt temp(other);
        4:   83:            temp.subtract(*this);
branch  0 taken 4
branch  1 taken 0
        4:   84:            *this = temp;
branch  0 taken 4
branch  1 taken 0
        4:   85:            isNegative = !isNegative;
        4:   86:        }
        -:   87:    }
       54:   88:    normalize();
       54:   89:    return *this;
    #####:   90:}
        -:   91:
function _ZN6bigint6BigIntmLERKS0_ called 226 returned 100% blocks executed 100%
      226:   92:BigInt& BigInt::operator*=(const BigInt& other) {
      226:   93:    multiply(other);
      226:   94:    normalize();
      226:   95:    return *this;
        -:   96:}
        -:   97:
function _ZN6bigint6BigIntdVERKS0_ called 18 returned 100% blocks executed 66%
       18:   98:BigInt& BigInt::operator/=(const BigInt& other) {
       18:   99:    if (other.isZero()) {
branch  0 taken 14
branch  1 taken 4
        4:  100:        throw std::runtime_error("Division by zero");
branch  0 taken 4
branch  1 taken 0
        -:  101:    }
        -:  102:    
       14:  103:    divide(other);
       14:  104:    normalize();
       14:  105:    return *this;
    #####:  106:}
        -:  107:
function _ZNK6bigint6BigIntplEi called 2 returned 100% blocks executed 50%
        2:  108:BigInt BigInt::operator+(int other) const {
        2:  109:    return *this + BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  110:}
        -:  111:
function _ZNK6bigint6BigIntmiEi called 2 returned 100% blocks executed 50%
        2:  112:BigInt BigInt::operator-(int other) const {
        2:  113:    return *this - BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  114:}
        -:  115:
function _ZNK6bigint6BigIntmlEi called 200 returned 100% blocks executed 50%
      200:  116:BigInt BigInt::operator*(int other) const {
      200:  117:    return *this * BigInt(other);
branch  0 taken 200
branch  1 taken 0
    #####:  118:}
        -:  119:
function _ZNK6bigint6BigIntdvEi called 2 returned 100% blocks executed 50%
        2:  120:BigInt BigInt::operator/(int other) const {
        2:  121:    return *this / BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  122:}
        -:  123:
function _ZN6bigint6BigIntpLEi called 10 returned 100% blocks executed 50%
       10:  124:BigInt& BigInt::operator+=(int other) {
       10:  125:    return *this += BigInt(other);
branch  0 taken 10
branch  1 taken 0
    #####:  126:}
        -:  127:
function _ZN6bigint6BigIntmIEi called 6 returned 100% blocks executed 50%
        6:  128:BigInt& BigInt::operator-=(int other) {
        6:  129:    return *this -= BigInt(other);
branch  0 taken 6
branch  1 taken 0
    #####:  130:}
        -:  131:
function _ZN6bigint6BigIntmLEi called 2 returned 100% blocks executed 50%
        2:  132:BigInt& BigInt::operator*=(int other) {
        2:  133:    return *this *= BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  134:}
        -:  135:
function _ZN6bigint6BigIntdVEi called 2 returned 100% blocks executed 50%
        2:  136:BigInt& BigInt::operator/=(int other) {
        2:  137:    return *this /= BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  138:}
        -:  139:
function _ZNK6bigint6BigIntngEv called 10 returned 100% blocks executed 62%
       10:  140:BigInt BigInt::operator-() const {
       10:  141:    BigInt result(*this);
       10:  142:    if (!result.isZero()) {
branch  0 taken 10
branch  1 taken 0
branch  2 taken 2
branch  3 taken 8
        8:  143:        result.isNegative = !result.isNegative;
        8:  144:    }
       10:  145:    return result;
       10:  146:}
branch  0 taken 10
branch  1 taken 0
        -:  147:
function _ZNK6bigint6BigIntpsEv called 2 returned 100% blocks executed 100%
        2:  148:BigInt BigInt::operator+() const {
        2:  149:    return *this;
        -:  150:}
        -:  151:
function _ZN6bigint6BigIntppEv called 8 returned 100% blocks executed 100%
        8:  152:BigInt& BigInt::operator++() {
        8:  153:    *this += 1;
        8:  154:    return *this;
        -:  155:}
        -:  156:
function _ZN6bigint6BigIntppEi called 4 returned 100% blocks executed 50%
        4:  157:BigInt BigInt::operator++(int) {
        4:  158:    BigInt temp(*this);
        4:  159:    ++(*this);
branch  0 taken 4
branch  1 taken 0
        4:  160:    return temp;
        4:  161:}
branch  0 taken 4
branch  1 taken 0
        -:  162:
function _ZN6bigint6BigIntmmEv called 4 returned 100% blocks executed 100%
        4:  163:BigInt& BigInt::operator--() {
        4:  164:    *this -= 1;
        4:  165:    return *this;
        -:  166:}
        -:  167:
function _ZN6bigint6BigIntmmEi called 2 returned 100% blocks executed 50%
        2:  168:BigInt BigInt::operator--(int) {
        2:  169:    BigInt temp(*this);
        2:  170:    --(*this);
branch  0 taken 2
branch  1 taken 0
        2:  171:    return temp;
        2:  172:}
branch  0 taken 2
branch  1 taken 0
        -:  173:
function _ZNK6bigint6BigInteqERKS0_ called 16 returned 100% blocks executed 100%
       16:  174:bool BigInt::operator==(const BigInt& other) const {
       16:  175:    return compare(other) == 0;
        -:  176:}
        -:  177:
function _ZNK6bigint6BigIntneERKS0_ called 6 returned 100% blocks executed 100%
        6:  178:bool BigInt::operator!=(const BigInt& other) const {
        6:  179:    return compare(other) != 0;
        -:  180:}
        -:  181:
function _ZNK6bigint6BigIntltERKS0_ called 34 returned 100% blocks executed 100%
       34:  182:bool BigInt::operator<(const BigInt& other) const {
       34:  183:    return compare(other) < 0;
        -:  184:}
        -:  185:
function _ZNK6bigint6BigIntleERKS0_ called 190 returned 100% blocks executed 100%
      190:  186:bool BigInt::operator<=(const BigInt& other) const {
      190:  187:    return compare(other) <= 0;
        -:  188:}
        -:  189:
function _ZNK6bigint6BigIntgtERKS0_ called 22 returned 100% blocks executed 100%
       22:  190:bool BigInt::operator>(const BigInt& other) const {
       22:  191:    return compare(other) > 0;
        -:  192:}
        -:  193:
function _ZNK6bigint6BigIntgeERKS0_ called 64 returned 100% blocks executed 100%
       64:  194:bool BigInt::operator>=(const BigInt& other) const {
       64:  195:    return compare(other) >= 0;
        -:  196:}
        -:  197:
function _ZNK6bigint6BigInteqEi called 4 returned 100% blocks executed 50%
        4:  198:bool BigInt::operator==(int other) const {
        4:  199:    return *this == BigInt(other);
branch  0 taken 4
branch  1 taken 0
    #####:  200:}
        -:  201:
function _ZNK6bigint6BigIntneEi called 2 returned 100% blocks executed 50%
        2:  202:bool BigInt::operator!=(int other) const {
        2:  203:    return *this != BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  204:}
        -:  205:
function _ZNK6bigint6BigIntltEi called 4 returned 100% blocks executed 50%
        4:  206:bool BigInt::operator<(int other) const {
        4:  207:    return *this < BigInt(other);
branch  0 taken 4
branch  1 taken 0
    #####:  208:}
        -:  209:
function _ZNK6bigint6BigIntleEi called 2 returned 100% blocks executed 50%
        2:  210:bool BigInt::operator<=(int other) const {
        2:  211:    return *this <= BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  212:}
        -:  213:
function _ZNK6bigint6BigIntgtEi called 4 returned 100% blocks executed 50%
        4:  214:bool BigInt::operator>(int other) const {
        4:  215:    return *this > BigInt(other);
branch  0 taken 4
branch  1 taken 0
    #####:  216:}
        -:  217:
function _ZNK6bigint6BigIntgeEi called 2 returned 100% blocks executed 50%
        2:  218:bool BigInt::operator>=(int other) const {
        2:  219:    return *this >= BigInt(other);
branch  0 taken 2
branch  1 taken 0
    #####:  220:}
        -:  221:
function _ZNK6bigint6BigIntcviEv called 6 returned 100% blocks executed 68%
        6:  222:BigInt::operator int() const {
        6:  223:    if (*this > BigInt(INT_MAX) || *this < BigInt(INT_MIN)) {
branch  0 taken 6
branch  1 taken 0
branch  2 taken 4
branch  3 taken 2
branch  4 taken 4
branch  5 taken 0
branch  6 taken 4
branch  7 taken 0
branch  8 taken 2
branch  9 taken 4
branch 10 taken 2
branch 11 taken 4
branch 12 never executed
branch 13 never executed
        4:  224:        throw std::overflow_error("BigInt too large for int conversion");
branch  0 taken 4
branch  1 taken 0
        -:  225:    }
        -:  226:    
        2:  227:    int result = 0;
        2:  228:    int multiplier = 1;
        -:  229:    
        6:  230:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 4
branch  1 taken 2
        4:  231:        result += digits[i] * multiplier;
        4:  232:        multiplier *= BASE;
        4:  233:    }
        -:  234:    
        2:  235:    return isNegative ? -result : result;
branch  0 taken 0
branch  1 taken 2
    #####:  236:}
        -:  237:
function _ZNK6bigint6BigInt8toStringEv called 182 returned 100% blocks executed 88%
      182:  238:std::string BigInt::toString() const {
      182:  239:    if (isZero()) {
branch  0 taken 24
branch  1 taken 158
       24:  240:        return "0";
        -:  241:    }
        -:  242:    
      158:  243:    std::stringstream ss;
      158:  244:    if (isNegative) {
branch  0 taken 34
branch  1 taken 124
       34:  245:        ss << "-";
branch  0 taken 34
branch  1 taken 0
       34:  246:    }
        -:  247:    
      158:  248:    ss << digits.back();
branch  0 taken 158
branch  1 taken 0
        -:  249:    
      282:  250:    for (int i = static_cast<int>(digits.size()) - 2; i >= 0; --i) {
branch  0 taken 158
branch  1 taken 124
      124:  251:        ss.width(BASE_DIGITS);
branch  0 taken 124
branch  1 taken 0
      124:  252:        ss.fill('0');
branch  0 taken 124
branch  1 taken 0
      124:  253:        ss << digits[i];
branch  0 taken 124
branch  1 taken 0
      124:  254:    }
        -:  255:    
      158:  256:    return ss.str();
branch  0 taken 158
branch  1 taken 0
      182:  257:}
        -:  258:
function _ZNK6bigint6BigInt6isZeroEv called 990 returned 100% blocks executed 100%
      990:  259:bool BigInt::isZero() const {
      990:  260:    return digits.size() == 1 && digits[0] == 0;
branch  0 taken 172
branch  1 taken 818
        -:  261:}
        -:  262:
function _ZNK6bigint6BigInt10digitCountEv called 8 returned 100% blocks executed 100%
        8:  263:size_t BigInt::digitCount() const {
        8:  264:    if (isZero()) return 1;
branch  0 taken 2
branch  1 taken 6
        -:  265:    
        6:  266:    size_t count = (digits.size() - 1) * BASE_DIGITS;
        6:  267:    int lastDigit = digits.back();
        -:  268:    
       14:  269:    while (lastDigit > 0) {
branch  0 taken 8
branch  1 taken 6
        8:  270:        count++;
        8:  271:        lastDigit /= 10;
        -:  272:    }
        -:  273:    
        6:  274:    return count;
        8:  275:}
        -:  276:
function _ZN6bigint6BigInt9normalizeEv called 738 returned 100% blocks executed 100%
      738:  277:void BigInt::normalize() {
      738:  278:    removeLeadingZeros();
      738:  279:    if (isZero()) {
branch  0 taken 716
branch  1 taken 22
       22:  280:        isNegative = false;
       22:  281:    }
      738:  282:}
        -:  283:
function _ZN6bigint6BigInt10fromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE called 152 returned 100% blocks executed 93%
      152:  284:void BigInt::fromString(const std::string& str) {
      152:  285:    digits.clear();
      152:  286:    isNegative = false;
        -:  287:    
      152:  288:    if (str.empty()) {
branch  0 taken 2
branch  1 taken 150
        2:  289:        digits.push_back(0);
        2:  290:        return;
        -:  291:    }
        -:  292:    
      150:  293:    size_t start = 0;
      150:  294:    if (str[0] == '-') {
branch  0 taken 22
branch  1 taken 128
       22:  295:        isNegative = true;
       22:  296:        start = 1;
      150:  297:    } else if (str[0] == '+') {
branch  0 taken 124
branch  1 taken 4
        4:  298:        start = 1;
        4:  299:    }
        -:  300:    
      180:  301:    while (start < str.size() && str[start] == '0') {
branch  0 taken 8
branch  1 taken 172
branch  2 taken 30
branch  3 taken 150
       30:  302:        start++;
        -:  303:    }
        -:  304:    
      150:  305:    if (start == str.size()) {
branch  0 taken 8
branch  1 taken 142
        8:  306:        digits.push_back(0);
        8:  307:        isNegative = false;
        8:  308:        return;
        -:  309:    }
        -:  310:    
      386:  311:    for (int i = str.size() - 1; i >= static_cast<int>(start); i -= BASE_DIGITS) {
branch  0 taken 248
branch  1 taken 138
      248:  312:        int digit = 0;
      248:  313:        int power = 1;
        -:  314:        
     1036:  315:        for (int j = 0; j < BASE_DIGITS; ++j) {
branch  0 taken 124
branch  1 taken 912
      912:  316:            int pos = i - j;
      912:  317:            if (pos < static_cast<int>(start)) break;
branch  0 taken 792
branch  1 taken 120
        -:  318:            
      792:  319:            if (!std::isdigit(str[pos])) {
branch  0 taken 788
branch  1 taken 4
        4:  320:                throw std::invalid_argument("Invalid character in BigInt string");
branch  0 taken 4
branch  1 taken 0
        -:  321:            }
        -:  322:            
      788:  323:            digit += (str[pos] - '0') * power;
      788:  324:            power *= 10;
      788:  325:        }
        -:  326:        
      244:  327:        digits.push_back(digit);
      244:  328:    }
        -:  329:    
      138:  330:    normalize();
      148:  331:}
        -:  332:
function _ZN6bigint6BigInt18removeLeadingZerosEv called 796 returned 100% blocks executed 100%
      796:  333:void BigInt::removeLeadingZeros() {
      990:  334:    while (digits.size() > 1 && digits.back() == 0) {
branch  0 taken 656
branch  1 taken 334
branch  2 taken 194
branch  3 taken 796
      194:  335:        digits.pop_back();
        -:  336:    }
      796:  337:}
        -:  338:
function _ZNK6bigint6BigInt7compareERKS0_ called 332 returned 100% blocks executed 100%
      332:  339:int BigInt::compare(const BigInt& other) const {
      332:  340:    if (isNegative != other.isNegative) {
branch  0 taken 12
branch  1 taken 320
       12:  341:        return isNegative ? -1 : 1;
        -:  342:    }
        -:  343:    
      320:  344:    if (digits.size() != other.digits.size()) {
branch  0 taken 54
branch  1 taken 266
       54:  345:        return (digits.size() > other.digits.size() ? 1 : -1) * (isNegative ? -1 : 1);
        -:  346:    }
        -:  347:    
      344:  348:    for (int i = static_cast<int>(digits.size()) - 1; i >= 0; --i) {
branch  0 taken 282
branch  1 taken 62
      282:  349:        if (digits[i] != other.digits[i]) {
branch  0 taken 78
branch  1 taken 204
      204:  350:            return (digits[i] > other.digits[i] ? 1 : -1) * (isNegative ? -1 : 1);
        -:  351:        }
       78:  352:    }
        -:  353:    
       62:  354:    return 0;
      332:  355:}
        -:  356:
function _ZNK6bigint6BigInt3absEv called 144 returned 100% blocks executed 66%
      144:  357:BigInt BigInt::abs() const {
      144:  358:    BigInt result(*this);
      144:  359:    result.isNegative = false;
      144:  360:    return result;
      144:  361:}
branch  0 taken 144
branch  1 taken 0
        -:  362:
function _ZN6bigint6BigInt3addERKS0_ called 48 returned 100% blocks executed 100%
       48:  363:void BigInt::add(const BigInt& other) {
       48:  364:    size_t maxSize = std::max(digits.size(), other.digits.size());
       48:  365:    digits.resize(maxSize, 0);
        -:  366:    
       48:  367:    int carry = 0;
      138:  368:    for (size_t i = 0; i < maxSize; ++i) {
branch  0 taken 48
branch  1 taken 90
       90:  369:        int sum = digits[i] + carry;
       90:  370:        if (i < other.digits.size()) {
branch  0 taken 18
branch  1 taken 72
       72:  371:            sum += other.digits[i];
       72:  372:        }
        -:  373:        
       90:  374:        digits[i] = sum % BASE;
       90:  375:        carry = sum / BASE;
       90:  376:    }
        -:  377:    
       48:  378:    if (carry > 0) {
branch  0 taken 2
branch  1 taken 46
        2:  379:        digits.push_back(carry);
        2:  380:    }
       48:  381:}
        -:  382:
function _ZN6bigint6BigInt8subtractERKS0_ called 58 returned 100% blocks executed 100%
       58:  383:void BigInt::subtract(const BigInt& other) {
       58:  384:    int borrow = 0;
      150:  385:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 92
branch  1 taken 58
       92:  386:        int diff = digits[i] - borrow;
       92:  387:        if (i < other.digits.size()) {
branch  0 taken 18
branch  1 taken 74
       74:  388:            diff -= other.digits[i];
       74:  389:        }
        -:  390:        
       92:  391:        if (diff < 0) {
branch  0 taken 74
branch  1 taken 18
       18:  392:            diff += BASE;
       18:  393:            borrow = 1;
       18:  394:        } else {
       74:  395:            borrow = 0;
        -:  396:        }
        -:  397:        
       92:  398:        digits[i] = diff;
       92:  399:    }
        -:  400:    
       58:  401:    removeLeadingZeros();
       58:  402:}
        -:  403:
function _ZN6bigint6BigInt8multiplyERKS0_ called 226 returned 100% blocks executed 89%
      226:  404:void BigInt::multiply(const BigInt& other) {
      226:  405:    BigInt result;
      226:  406:    result.digits.resize(digits.size() + other.digits.size(), 0);
branch  0 taken 226
branch  1 taken 0
      226:  407:    result.isNegative = isNegative != other.isNegative;
        -:  408:    
      478:  409:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 taken 252
branch  1 taken 226
      252:  410:        int carry = 0;
      610:  411:        for (size_t j = 0; j < other.digits.size() || carry > 0; ++j) {
branch  0 taken 292
branch  1 taken 318
branch  2 taken 358
branch  3 taken 252
     1074:  412:            long long product = result.digits[i + j] + 
      716:  413:                               static_cast<long long>(digits[i]) * 
      358:  414:                               (j < other.digits.size() ? other.digits[j] : 0) + 
branch  0 taken 292
branch  1 taken 66
      358:  415:                               carry;
        -:  416:            
      358:  417:            result.digits[i + j] = product % BASE;
      358:  418:            carry = product / BASE;
      358:  419:        }
      252:  420:    }
        -:  421:    
      226:  422:    result.normalize();
branch  0 taken 226
branch  1 taken 0
      226:  423:    *this = result;
branch  0 taken 226
branch  1 taken 0
      226:  424:}
        -:  425:
function _ZN6bigint6BigInt6divideERKS0_ called 14 returned 100% blocks executed 60%
       14:  426:void BigInt::divide(const BigInt& other) {
       14:  427:    if (other.isZero()) {
branch  0 taken 14
branch  1 taken 0
    #####:  428:        throw std::runtime_error("Division by zero");
branch  0 never executed
branch  1 never executed
        -:  429:    }
        -:  430:    
       14:  431:    BigInt a = abs();
       14:  432:    BigInt b = other.abs();
branch  0 taken 14
branch  1 taken 0
        -:  433:    
       14:  434:    if (a < b) {
branch  0 taken 14
branch  1 taken 0
branch  2 taken 0
branch  3 taken 14
    #####:  435:        *this = BigInt(0);
branch  0 never executed
branch  1 never executed
branch  2 never executed
branch  3 never executed
    #####:  436:        return;
        -:  437:    }
        -:  438:    
       14:  439:    BigInt result;
branch  0 taken 14
branch  1 taken 0
       14:  440:    result.digits.resize(a.digits.size() - b.digits.size() + 1, 0);
branch  0 taken 14
branch  1 taken 0
       14:  441:    result.isNegative = isNegative != other.isNegative;
        -:  442:    
       14:  443:    BigInt current;
branch  0 taken 14
branch  1 taken 0
       28:  444:    for (int i = static_cast<int>(a.digits.size()) - 1; i >= 0; --i) {
branch  0 taken 14
branch  1 taken 14
       14:  445:        current.shiftLeft(1);
branch  0 taken 14
branch  1 taken 0
       14:  446:        current.digits[0] = a.digits[i];
       14:  447:        current.normalize();
branch  0 taken 14
branch  1 taken 0
        -:  448:        
       14:  449:        int left = 0, right = BASE;
      198:  450:        while (left < right) {
branch  0 taken 14
branch  1 taken 184
      184:  451:            int mid = (left + right + 1) / 2;
      184:  452:            BigInt product = b * mid;
branch  0 taken 184
branch  1 taken 0
        -:  453:            
      184:  454:            if (product <= current) {
branch  0 taken 184
branch  1 taken 0
branch  2 taken 40
branch  3 taken 144
       40:  455:                left = mid;
       40:  456:            } else {
      144:  457:                right = mid - 1;
        -:  458:            }
      184:  459:        }
        -:  460:        
       14:  461:        if (i < static_cast<int>(result.digits.size())) {
branch  0 taken 0
branch  1 taken 14
       14:  462:            result.digits[i] = left;
       14:  463:        }
        -:  464:        
       14:  465:        current -= b * left;
branch  0 taken 14
branch  1 taken 0
branch  2 taken 14
branch  3 taken 0
       14:  466:    }
        -:  467:    
       14:  468:    result.normalize();
branch  0 taken 14
branch  1 taken 0
       14:  469:    *this = result;
branch  0 taken 14
branch  1 taken 0
       14:  470:}
branch  0 taken 0
branch  1 taken 14
        -:  471:
function _ZN6bigint6BigInt15multiplyByDigitEi called 0 returned 0% blocks executed 0%
    #####:  472:void BigInt::multiplyByDigit(int digit) {
    #####:  473:    int carry = 0;
    #####:  474:    for (size_t i = 0; i < digits.size(); ++i) {
branch  0 never executed
branch  1 never executed
    #####:  475:        long long product = static_cast<long long>(digits[i]) * digit + carry;
    #####:  476:        digits[i] = product % BASE;
    #####:  477:        carry = product / BASE;
    #####:  478:    }
        -:  479:    
    #####:  480:    if (carry > 0) {
branch  0 never executed
branch  1 never executed
    #####:  481:        digits.push_back(carry);
    #####:  482:    }
    #####:  483:}
        -:  484:
function _ZN6bigint6BigInt9shiftLeftEm called 14 returned 100% blocks executed 75%
       14:  485:void BigInt::shiftLeft(size_t positions) {
       14:  486:    if (isZero()) return;
branch  0 taken 14
branch  1 taken 0
        -:  487:    
    #####:  488:    digits.insert(digits.begin(), positions, 0);
       14:  489:}
        -:  490:
function _ZN6bigintlsERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEERKNS_6BigIntE called 2 returned 100% blocks executed 50%
        2:  491:std::ostream& operator<<(std::ostream& os, const BigInt& num) {
        2:  492:    os << num.toString();
branch  0 taken 2
branch  1 taken 0
        2:  493:    return os;
    #####:  494:}
        -:  495:
function _ZN6bigintrsERNSt3__113basic_istreamIcNS0_11char_traitsIcEEEERNS_6BigIntE called 6 returned 100% blocks executed 60%
        6:  496:std::istream& operator>>(std::istream& is, BigInt& num) {
        6:  497:    std::string str;
        6:  498:    is >> str;
branch  0 taken 6
branch  1 taken 0
        6:  499:    num.fromString(str);
branch  0 taken 6
branch  1 taken 0
        6:  500:    return is;
        6:  501:}
        -:  502:
        -:  503:}
